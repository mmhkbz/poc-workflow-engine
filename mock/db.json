{
  "roles": [
    {
      "id": "manager",
      "key": "manager",
      "name": "Manager"
    },
    {
      "id": "senior_manager",
      "key": "senior_manager",
      "name": "Senior Manager"
    },
    {
      "id": "deputy_manager",
      "key": "deputy_manager",
      "name": "Deputy Manager"
    },
    {
      "id": "deputy_ceo",
      "key": "deputy_ceo",
      "name": "Deputy CEO"
    },
    {
      "id": "ceo",
      "key": "ceo",
      "name": "CEO"
    }
  ],
  "users": [
    {
      "key": "user1",
      "name": "User 1",
      "roles": [
        "manager"
      ],
      "id": "89c5"
    },
    {
      "key": "user2",
      "name": "User 2",
      "roles": [
        "senior_manager"
      ],
      "id": "05bb"
    }
  ],
  "workflows": [
    {
      "name": "Parallel Workflow (Manager + Senior Manager) from Two Departments",
      "key": "parallel_workflow_01",
      "nodes": [
        {
          "key": "start",
          "description": "Start Node",
          "type": "start"
        },
        {
          "key": "first_gateway",
          "type": "parallel_gateway",
          "description": "Parallel Gateway Node",
          "branches": [
            {
              "key": "operation_approval_branch",
              "name": "Operation Approval Branch",
              "nodes": [
                "notify_operation_manager",
                "operation_manager_approval",
                "operation_manager_decision"
              ]
            },
            {
              "key": "security_approval_branch",
              "name": "Security Approval Branch",
              "nodes": [
                "notify_security_manager",
                "security_manager_approval",
                "security_manager_decision"
              ]
            }
          ]
        },
        {
          "key": "operation_manager_approval",
          "type": "task",
          "config": {
            "type": "assignment",
            "payload": {
              "roles": [
                "manager"
              ],
              "groups": [
                "operation"
              ]
            },
            "slas": [
              {
                "name": "Standard SLA for Batch Upload Approval.",
                "key": "SLA01",
                "variant": "node",
                "levels": [
                  {
                    "level": 1,
                    "targetDuration": "0.3m",
                    "condition": {
                      "type": "jexl",
                      "expression": "${local.variables.status} == 'pending'"
                    },
                    "actions": [
                      {
                        "name": "Send Reminder Noti",
                        "type": "service",
                        "config": {
                          "type": "http",
                          "method": "POST",
                          "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
                          "body": {
                            "title": "Check your inbox!",
                            "message": "Manager, Please check your inbox for tasks approval."
                          },
                          "headers": "Authorization ${context.variables.access_token}"
                        }
                      }
                    ]
                  },
                  {
                    "level": 2,
                    "targetDuration": "0.5m",
                    "condition": {
                      "type": "jexl",
                      "expression": "${local.variables.status} == 'pending'"
                    },
                    "actions": [
                      {
                        "type": "escalate",
                        "config": {
                          "type": "role",
                          "roles": [
                            "ceo"
                          ]
                        },
                        "condition": {
                          "type": "jexl",
                          "expression": null
                        }
                      }
                    ]
                  },
                  {
                    "level": 3,
                    "targetDuration": "1m",
                    "condition": {
                      "type": "jexl",
                      "expression": "${local.variables.status} == 'pending'"
                    },
                    "actions": [
                      {
                        "type": "mutation",
                        "config": {
                          "type": "transition",
                          "toNode": "end"
                        }
                      }
                    ]
                  }
                ],
                "id": "4dfe"
              }
            ],
            "timers": []
          }
        },
        {
          "key": "notify_operation_manager",
          "type": "service",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
              "body": {
                "title": "Inbox",
                "message": "Operation Manager: Check your inbox for task approval."
              }
            }
          }
        },
        {
          "key": "notify_security_manager",
          "type": "service",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
              "body": {
                "title": "Inbox",
                "message": "Security Manager: Check your inbox for task approval."
              }
            }
          }
        },
        {
          "key": "operation_manager_decision",
          "type": "decision"
        },
        {
          "key": "security_manager_approval",
          "type": "task",
          "config": {
            "type": "assignment",
            "payload": {
              "roles": [
                "senior_manager"
              ],
              "groups": [
                "security"
              ]
            },
            "slas": [
              {
                "name": "Standard SLA for Batch Upload Approval.",
                "key": "SLA01",
                "variant": "node",
                "facts": [
                  {
                    "level": 1,
                    "targetDuration": "0.1m",
                    "condition": {
                      "type": "jexl",
                      "expression": "${local.variables.status} == 'pending'"
                    },
                    "actions": [
                      {
                        "name": "Send Reminder Noti",
                        "type": "service",
                        "config": {
                          "type": "http",
                          "method": "POST",
                          "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
                          "body": {
                            "title": "Check your inbox!",
                            "message": "Senior Manager, Please check your inbox for tasks approval."
                          },
                          "headers": "Authorization ${context.variables.access_token}"
                        }
                      }
                    ]
                  },
                  {
                    "level": 2,
                    "targetDuration": "0.3m",
                    "condition": {
                      "type": "jexl",
                      "expression": "${local.variables.status} == 'pending'"
                    },
                    "actions": [
                      {
                        "type": "escalate",
                        "config": {
                          "type": "role",
                          "roles": [
                            "ceo"
                          ]
                        },
                        "condition": {
                          "type": "jexl",
                          "expression": null
                        }
                      }
                    ]
                  },
                  {
                    "level": 3,
                    "targetDuration": "0.5m",
                    "condition": {
                      "type": "jexl",
                      "expression": "${local.variables.status} == 'pending'"
                    },
                    "actions": [
                      {
                        "type": "mutation",
                        "config": {
                          "type": "transition",
                          "toNode": "end"
                        }
                      }
                    ]
                  }
                ],
                "id": "4dfe"
              }
            ],
            "timers": []
          }
        },
        {
          "key": "security_manager_decision",
          "type": "decision"
        },
        {
          "key": "first_gateway_join",
          "type": "parallel_join",
          "config": {
            "dependencies": [
              "operation_approval_branch",
              "security_approval_branch"
            ],
            "condition": {
              "type": "jexl",
              "expression": "${context.variables.outputs.operation_manager_approval.isApproved} == true || ${context.variables.outputs.security_manager_approval.isApproved} == true"
            }
          }
        },
        {
          "key": "send_approved_noti",
          "type": "service",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
              "body": {
                "title": "Approved",
                "message": "Your request was approved by manager."
              }
            }
          }
        },
        {
          "key": "send_rejected_noti",
          "type": "service",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
              "body": {
                "title": "Rejected",
                "message": "Your request was rejected by manager."
              }
            }
          }
        },
        {
          "key": "process_csv",
          "type": "service",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/process-csv",
              "body": {
                "refId": "${context.variables.refId}"
              }
            }
          }
        },
        {
          "key": "end",
          "type": "end"
        }
      ],
      "transitions": [
        {
          "fromNode": "start",
          "toNode": "first_gateway"
        },
        {
          "fromNode": "first_gateway",
          "toNode": "notify_operation_manager",
          "branch": "operation_approval_branch"
        },
        {
          "fromNode": "first_gateway",
          "toNode": "notify_security_manager",
          "branch": "security_approval_branch"
        },
        {
          "fromNode": "notify_operation_manager",
          "toNode": "operation_manager_approval"
        },
        {
          "fromNode": "notify_security_manager",
          "toNode": "security_manager_approval"
        },
        {
          "fromNode": "operation_manager_approval",
          "toNode": "operation_manager_decision"
        },
        {
          "fromNode": "operation_manager_decision",
          "toNode": "first_gateway_join",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.operation_manager_approval.isApproved} == true"
            }
          }
        },
        {
          "fromNode": "security_manager_approval",
          "toNode": "security_manager_decision"
        },
        {
          "fromNode": "security_manager_decision",
          "toNode": "first_gateway_join",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.security_manager_approval.isApproved} == true"
            }
          }
        },
        {
          "fromNode": "operation_manager_decision",
          "toNode": "send_rejected_noti",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.operation_manager_approval.isApproved} == false"
            }
          }
        },
        {
          "fromNode": "security_manager_decision",
          "toNode": "send_rejected_noti",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.security_manager_approval.isApproved} == false"
            }
          }
        },
        {
          "fromNode": "first_gateway_join",
          "toNode": "send_approved_noti"
        },
        {
          "fromNode": "first_gateway_join",
          "toNode": "process_csv"
        },
        {
          "fromNode": "send_rejected_noti",
          "toNode": "end",
          "config": {
            "type": "condition",
            "expression": "${context.variables.outputs.security_manager_approval.isApproved} == false && ${context.variables.security_manager_approval.isApproved} == false"
          }
        },
        {
          "fromNode": "send_approved_noti",
          "toNode": "process_csv"
        },
        {
          "fromNode": "process_csv",
          "toNode": "end"
        }
      ],
      "id": "14f3"
    },
    {
      "id": "278a",
      "key": "sample-01",
      "name": "sample",
      "nodes": [
        {
          "key": "start",
          "type": "start",
          "description": "Start"
        },
        {
          "key": "manager_approval",
          "type": "task",
          "config": {
            "type": "assignment",
            "payload": {
              "roles": [
                "manager"
              ],
              "groups": [
                "operation"
              ]
            },
            "slas": [],
            "timers": []
          }
        },
        {
          "key": "manager_decision",
          "type": "decision",
          "description": "Manager Decision"
        },
        {
          "key": "send_reject_noti",
          "type": "service",
          "description": "Send Rejected Notification",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
              "body": {
                "title": "Check your inbox!",
                "message": "Your request was rejected."
              }
            }
          }
        },
        {
          "key": "sent_approve_noti",
          "type": "service",
          "description": "Sent Approve Notification",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
              "body": {
                "title": "Check your inbox!",
                "message": "Your request was approved."
              }
            }
          }
        },
        {
          "key": "process_csv",
          "type": "service",
          "description": "Process CSV",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/process-csv",
              "body": {
                "refId": "${context.variables.refId}"
              }
            }
          }
        },
        {
          "key": "end",
          "type": "end",
          "description": "New end"
        }
      ],
      "transitions": [
        {
          "fromNode": "start",
          "toNode": "manager_approval"
        },
        {
          "fromNode": "manager_approval",
          "toNode": "manager_decision"
        },
        {
          "fromNode": "manager_decision",
          "toNode": "send_reject_noti",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.manager_approval.isApproved} == false"
            }
          }
        },
        {
          "fromNode": "manager_decision",
          "toNode": "sent_approve_noti",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.manager_approval.isApproved} == true"
            }
          }
        },
        {
          "fromNode": "sent_approve_noti",
          "toNode": "process_csv"
        },
        {
          "fromNode": "process_csv",
          "toNode": "end"
        },
        {
          "fromNode": "send_reject_noti",
          "toNode": "end"
        }
      ]
    },
    {
      "key": "SWITCH_WORKFLOW_01",
      "name": "SWITCH_WORKFLOW_01",
      "nodes": [
        {
          "key": "start",
          "type": "start",
          "description": "Start"
        },
        {
          "key": "send_reject_noti",
          "type": "service",
          "description": "Send Rejected Notification",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
              "body": {
                "title": "Check your inbox!",
                "message": "Your request was rejected."
              }
            }
          }
        },
        {
          "key": "sent_approve_noti",
          "type": "service",
          "description": "Sent Approve Notification",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
              "body": {
                "title": "Approved!",
                "message": "Your request was approved."
              }
            }
          }
        },
        {
          "key": "process_csv",
          "type": "service",
          "description": "Process CSV",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/process-csv",
              "body": {
                "refId": "${context.variables.refId}"
              }
            }
          }
        },
        {
          "key": "manager_approval",
          "type": "task",
          "description": "Manager Approval",
          "config": {
            "type": "assignment",
            "slas": [],
            "timers": [],
            "payload": {
              "roles": [
                "manager"
              ],
              "groups": []
            }
          }
        },
        {
          "key": "senior_manager_approval",
          "type": "task",
          "description": "Senior Manager Approval",
          "config": {
            "type": "assignment",
            "slas": [],
            "timers": [],
            "payload": {
              "roles": [
                "senior_manager"
              ],
              "groups": []
            }
          }
        },
        {
          "key": "ceo_approval",
          "type": "task",
          "description": "CEO Approval",
          "config": {
            "type": "assignment",
            "slas": [],
            "timers": [],
            "payload": {
              "roles": [
                "ceo"
              ],
              "groups": []
            }
          }
        },
        {
          "key": "approval_decision",
          "type": "decision",
          "description": "Approval Decision"
        },
        {
          "key": "target_decision",
          "type": "decision",
          "description": "Target Decision"
        },
        {
          "key": "end",
          "type": "end"
        }
      ],
      "transitions": [
        {
          "fromNode": "manager_approval",
          "toNode": "approval_decision"
        },
        {
          "fromNode": "senior_manager_approval",
          "toNode": "approval_decision"
        },
        {
          "fromNode": "ceo_approval",
          "toNode": "approval_decision"
        },
        {
          "fromNode": "start",
          "toNode": "target_decision"
        },
        {
          "fromNode": "target_decision",
          "toNode": "manager_approval",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.amount} <= 100000 "
            }
          }
        },
        {
          "fromNode": "target_decision",
          "toNode": "senior_manager_approval",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.amount} > 100000 && ${context.variables.amount} <= 1000000"
            }
          }
        },
        {
          "fromNode": "target_decision",
          "toNode": "ceo_approval",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.amount} > 1000000"
            }
          }
        },
        {
          "fromNode": "approval_decision",
          "toNode": "send_reject_noti",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.manager_approval.isApproved} == false || ${context.variables.outputs.senior_manager_approval.isApproved} == false || ${context.variables.outputs.ceo_approval.isApproved} == false"
            }
          }
        },
        {
          "fromNode": "approval_decision",
          "toNode": "sent_approve_noti",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.manager_approval.isApproved} == true || ${context.variables.outputs.senior_manager_approval.isApproved} == true || ${context.variables.outputs.ceo_approval.isApproved} == true"
            }
          }
        },
        {
          "fromNode": "sent_approve_noti",
          "toNode": "process_csv"
        },
        {
          "fromNode": "process_csv",
          "toNode": "end"
        }
      ]
    },
    {
      "key": "demo_claim_request_workflow",
      "name": "demo_claim_request_workflow",
      "nodes": [
        {
          "key": "start",
          "type": "start",
          "description": "Start"
        },
        {
          "key": "manager_approval",
          "type": "task",
          "description": "Manager Approval",
          "config": {
            "type": "assignment",
            "roles": [
              "manager"
            ],
            "groups": [],
            "slas": [
              {
                "name": "SLA for Manager Approval",
                "variant": "node",
                "levels": [
                  {
                    "level": 1,
                    "targetDuration": "0.3m",
                    "condition": {
                      "type": "jexl",
                      "expression": "${local.variables.status} == 'pending'"
                    },
                    "actions": [
                      {
                        "name": "Send Reminder Noti",
                        "type": "service",
                        "config": {
                          "type": "http",
                          "method": "POST",
                          "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
                          "body": {
                            "title": "Check your inbox!",
                            "message": "Please check your inbox for tasks approval."
                          },
                          "headers": "Authorization ${context.variables.access_token}"
                        }
                      }
                    ]
                  }
                ]
              }
            ]
          }
        },
        {
          "key": "manager_decision",
          "type": "decision",
          "description": "Decision After Manager Approval"
        },
        {
          "key": "senior_manager_approval",
          "type": "task",
          "description": "Senior Manager Approval",
          "config": {
            "type": "assignment",
            "roles": [
              "senior_manager"
            ],
            "groups": [],
            "slas": [
              {
                "name": "SLA for Senior Manager Approval",
                "variant": "node",
                "levels": [
                  {
                    "level": 1,
                    "targetDuration": "0.3m",
                    "condition": {
                      "type": "jexl",
                      "expression": "${local.variables.status} == 'pending'"
                    },
                    "actions": [
                      {
                        "name": "Send Reminder Noti",
                        "type": "service",
                        "config": {
                          "type": "http",
                          "method": "POST",
                          "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
                          "body": {
                            "title": "Check your inbox!",
                            "message": "Please check your inbox for tasks approval."
                          },
                          "headers": "Authorization ${context.variables.access_token}"
                        }
                      }
                    ]
                  }
                ]
              }
            ]
          }
        },
        {
          "key": "ceo_approval",
          "type": "task",
          "description": "CEO Approval",
          "config": {
            "type": "assignment",
            "roles": [
              "ceo"
            ],
            "groups": [],
            "slas": [
              {
                "name": "SLA for CEO Approval",
                "variant": "node",
                "levels": [
                  {
                    "level": 1,
                    "targetDuration": "0.3m",
                    "condition": {
                      "type": "jexl",
                      "expression": "${local.variables.status} == 'pending'"
                    },
                    "actions": [
                      {
                        "name": "Send Reminder Noti",
                        "type": "service",
                        "config": {
                          "type": "http",
                          "method": "POST",
                          "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
                          "body": {
                            "title": "Check your inbox!",
                            "message": "Please check your inbox for tasks approval."
                          },
                          "headers": "Authorization ${context.variables.access_token}"
                        }
                      }
                    ]
                  }
                ]
              }
            ]
          }
        },
        {
          "key": "send_rejected_noti",
          "type": "service",
          "description": "Send Rejected Noti",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
              "body": {
                "title": "Rejected!",
                "message": "Your request was rejected."
              }
            }
          }
        },
        {
          "key": "send_approved_noti",
          "type": "service",
          "description": "Send Approved Noti",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
              "body": {
                "title": "Approved!",
                "message": "Your request was approved."
              }
            }
          }
        },
        {
          "key": "secondary_approval",
          "type": "decision",
          "description": "Secondary Approval"
        },
        {
          "key": "end",
          "type": "end",
          "description": "New end"
        }
      ],
      "transitions": [
        {
          "fromNode": "start",
          "toNode": "manager_approval"
        },
        {
          "fromNode": "manager_approval",
          "toNode": "manager_decision"
        },
        {
          "fromNode": "manager_decision",
          "toNode": "senior_manager_approval",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.manager_approval.isApproved} == true && ${context.variables.amount} >= 500000 && ${context.variables.amount} < 1000000"
            }
          }
        },
        {
          "fromNode": "senior_manager_approval",
          "toNode": "secondary_approval"
        },
        {
          "fromNode": "ceo_approval",
          "toNode": "secondary_approval"
        },
        {
          "fromNode": "secondary_approval",
          "toNode": "send_approved_noti",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.senior_manager_approval.isApproved} == true || ${context.variables.outputs.ceo_approval.isApproved} == true"
            }
          }
        },
        {
          "fromNode": "send_approved_noti",
          "toNode": "end"
        },
        {
          "fromNode": "send_rejected_noti",
          "toNode": "end"
        },
        {
          "fromNode": "manager_decision",
          "toNode": "send_rejected_noti",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.manager_approval.isApproved} == false"
            }
          }
        },
        {
          "fromNode": "manager_decision",
          "toNode": "ceo_approval",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.manager_approval.isApproved} == true && ${context.variables.amount} >= 1000000 "
            }
          }
        },
        {
          "fromNode": "secondary_approval",
          "toNode": "send_rejected_noti",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.senior_manager_approval.isApproved} == false || ${context.variables.outputs.ceo_approval.isApproved} == false"
            }
          }
        },
        {
          "fromNode": "manager_decision",
          "toNode": "send_approved_noti",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.manager_approval.isApproved} == true"
            }
          }
        }
      ]
    },
    {
      "id": "61ef",
      "key": "demo_vpn_request",
      "name": "demo_vpn_request_workflow",
      "nodes": [
        {
          "key": "start",
          "type": "start",
          "description": "Start"
        },
        {
          "key": "manager_approval",
          "type": "task",
          "description": "Manager Approval",
          "config": {
            "type": "assignment",
            "roles": [
              "manager"
            ],
            "groups": [],
            "slas": [
              {
                "name": "SLA for Manager Approval",
                "variant": "node",
                "levels": [
                  {
                    "level": 1,
                    "targetDuration": "0.3m",
                    "condition": {
                      "type": "jexl",
                      "expression": "${local.variables.status} == 'pending'"
                    },
                    "actions": [
                      {
                        "name": "Send Reminder Noti",
                        "type": "service",
                        "config": {
                          "type": "http",
                          "method": "POST",
                          "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
                          "body": {
                            "title": "Check your inbox!",
                            "message": "Please check your inbox for tasks approval."
                          },
                          "headers": "Authorization ${context.variables.access_token}"
                        }
                      }
                    ]
                  }
                ]
              }
            ]
          }
        },
        {
          "key": "senior_manager_approval",
          "type": "task",
          "description": "Senior Manger Approval",
          "config": {
            "type": "assignment",
            "roles": [
              "senior_manager"
            ],
            "groups": [],
            "slas": [
              {
                "name": "SLA for Senior Manger Approval",
                "variant": "node",
                "levels": [
                  {
                    "level": 1,
                    "targetDuration": "0.3m",
                    "condition": {
                      "type": "jexl",
                      "expression": "${local.variables.status} == 'pending'"
                    },
                    "actions": [
                      {
                        "name": "Send Reminder Noti",
                        "type": "service",
                        "config": {
                          "type": "http",
                          "method": "POST",
                          "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
                          "body": {
                            "title": "Check your inbox!",
                            "message": "Please check your inbox for tasks approval."
                          },
                          "headers": "Authorization ${context.variables.access_token}"
                        }
                      }
                    ]
                  }
                ]
              }
            ]
          }
        },
        {
          "key": "manager_decision",
          "type": "decision",
          "description": "Manager Decision"
        },
        {
          "key": "send_rejected_noti",
          "type": "service",
          "description": "Send Rejected Noti",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
              "body": {
                "title": "Rejected!",
                "message": "Your request was rejected."
              }
            }
          }
        },
        {
          "key": "send_approved_noti",
          "type": "service",
          "description": "Send Approved Noti",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
              "body": {
                "title": "Approved!",
                "message": "Your request was approved."
              }
            }
          }
        },
        {
          "key": "senior_manager_decision",
          "type": "decision",
          "description": "Senior Manager Decision"
        },
        {
          "key": "end",
          "type": "end",
          "description": "New end"
        },
        {
          "key": "process_csv",
          "type": "service",
          "description": "Process CSV",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/process-csv",
              "body": {
                "refId": "${context.variables.refId}"
              }
            }
          }
        }
      ],
      "transitions": [
        {
          "fromNode": "start",
          "toNode": "manager_approval"
        },
        {
          "fromNode": "manager_approval",
          "toNode": "manager_decision"
        },
        {
          "fromNode": "manager_decision",
          "toNode": "senior_manager_approval",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.manager_approval.isApproved} == true"
            }
          }
        },
        {
          "fromNode": "manager_decision",
          "toNode": "send_rejected_noti",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.manager_approval.isApproved} == false"
            }
          }
        },
        {
          "fromNode": "senior_manager_approval",
          "toNode": "senior_manager_decision"
        },
        {
          "fromNode": "senior_manager_decision",
          "toNode": "send_rejected_noti",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.senior_manager_approval.isApproved} == false"
            }
          }
        },
        {
          "fromNode": "senior_manager_decision",
          "toNode": "send_approved_noti",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.senior_manager_approval.isApproved} == true"
            }
          }
        },
        {
          "fromNode": "send_rejected_noti",
          "toNode": "end"
        },
        {
          "fromNode": "send_approved_noti",
          "toNode": "process_csv"
        },
        {
          "fromNode": "process_csv",
          "toNode": "end"
        }
      ]
    },
    {
      "key": "demo_employee_data_amend_req",
      "name": "demo_employee_data_amend_req",
      "nodes": [
        {
          "key": "start",
          "type": "start",
          "description": "Start Node"
        },
        {
          "key": "first_gateway",
          "type": "parallel_gateway",
          "description": "Parallel Gateway Node",
          "branches": [
            {
              "key": "operation_approval_branch",
              "name": "Operation Approval Branch",
              "nodes": [
                "notify_operation_manager",
                "operation_manager_approval",
                "operation_manager_decision"
              ]
            },
            {
              "key": "security_approval_branch",
              "name": "Security Approval Branch",
              "nodes": [
                "notify_security_manager",
                "security_manager_approval",
                "security_manager_decision"
              ]
            }
          ]
        },
        {
          "key": "operation_manager_approval",
          "type": "task",
          "config": {
            "type": "assignment",
            "payload": {
              "roles": [
                "manager"
              ]
            },
            "slas": [
              {
                "name": "Standard SLA for Batch Upload Approval.",
                "key": "SLA01",
                "variant": "node",
                "levels": [
                  {
                    "level": 1,
                    "targetDuration": "0.1m",
                    "condition": {
                      "type": "jexl",
                      "expression": "${local.variables.status} == 'pending'"
                    },
                    "actions": [
                      {
                        "name": "Send Reminder Noti",
                        "type": "service",
                        "config": {
                          "type": "http",
                          "method": "POST",
                          "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
                          "body": {
                            "title": "Check your inbox!",
                            "message": "Manager, Please check your inbox for tasks approval."
                          },
                          "headers": "Authorization ${context.variables.access_token}"
                        }
                      }
                    ]
                  },
                  {
                    "level": 2,
                    "targetDuration": "0.5m",
                    "condition": {
                      "type": "jexl",
                      "expression": "${local.variables.status} == 'pending'"
                    },
                    "actions": [
                      {
                        "type": "escalate",
                        "config": {
                          "type": "role",
                          "roles": [
                            "ceo"
                          ]
                        },
                        "condition": {
                          "type": "jexl",
                          "expression": null
                        }
                      }
                    ]
                  },
                  {
                    "level": 3,
                    "targetDuration": "1m",
                    "condition": {
                      "type": "jexl",
                      "expression": "${local.variables.status} == 'pending'"
                    },
                    "actions": [
                      {
                        "type": "mutation",
                        "config": {
                          "type": "transition",
                          "toNode": "end"
                        }
                      }
                    ]
                  }
                ],
                "id": "4dfe"
              }
            ],
            "timers": []
          }
        },
        {
          "key": "notify_operation_manager",
          "type": "service",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
              "body": {
                "title": "Inbox",
                "message": "Operation Manager: Check your inbox for task approval."
              }
            }
          }
        },
        {
          "key": "notify_security_manager",
          "type": "service",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
              "body": {
                "title": "Inbox",
                "message": "Security Manager: Check your inbox for task approval."
              }
            }
          }
        },
        {
          "key": "operation_manager_decision",
          "type": "decision"
        },
        {
          "key": "security_manager_approval",
          "type": "task",
          "config": {
            "type": "assignment",
            "payload": {
              "roles": [
                "senior_manager"
              ]
            },
            "slas": [
              {
                "name": "Standard SLA for Batch Upload Approval.",
                "key": "SLA01",
                "variant": "node",
                "facts": [
                  {
                    "level": 1,
                    "targetDuration": "0.1m",
                    "condition": {
                      "type": "jexl",
                      "expression": "${local.variables.status} == 'pending'"
                    },
                    "actions": [
                      {
                        "name": "Send Reminder Noti",
                        "type": "service",
                        "config": {
                          "type": "http",
                          "method": "POST",
                          "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
                          "body": {
                            "title": "Check your inbox!",
                            "message": "Senior Manager, Please check your inbox for tasks approval."
                          },
                          "headers": "Authorization ${context.variables.access_token}"
                        }
                      }
                    ]
                  },
                  {
                    "level": 2,
                    "targetDuration": "0.5m",
                    "condition": {
                      "type": "jexl",
                      "expression": "${local.variables.status} == 'pending'"
                    },
                    "actions": [
                      {
                        "type": "escalate",
                        "config": {
                          "type": "role",
                          "roles": [
                            "ceo"
                          ]
                        },
                        "condition": {
                          "type": "jexl",
                          "expression": null
                        }
                      }
                    ]
                  },
                  {
                    "level": 3,
                    "targetDuration": "1m",
                    "condition": {
                      "type": "jexl",
                      "expression": "${local.variables.status} == 'pending'"
                    },
                    "actions": [
                      {
                        "type": "mutation",
                        "config": {
                          "type": "transition",
                          "toNode": "end"
                        }
                      }
                    ]
                  }
                ],
                "id": "4dfe"
              }
            ],
            "timers": []
          }
        },
        {
          "key": "security_manager_decision",
          "type": "decision"
        },
        {
          "key": "first_gateway_join",
          "type": "parallel_join",
          "config": {
            "dependencies": [
              "operation_approval_branch",
              "security_approval_branch"
            ],
            "condition": {
              "type": "jexl",
              "expression": "${context.variables.outputs.operation_manager_approval.isApproved} == true || ${context.variables.outputs.security_manager_approval.isApproved} == true"
            }
          }
        },
        {
          "key": "send_approved_noti",
          "type": "service",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
              "body": {
                "title": "Approved",
                "message": "Your request was approved."
              }
            }
          }
        },
        {
          "key": "send_rejected_noti",
          "type": "service",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
              "body": {
                "title": "Rejected",
                "message": "Your request was rejected."
              }
            }
          }
        },
        {
          "key": "process_csv",
          "type": "service",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/process-csv",
              "body": {
                "refId": "${context.variables.refId}"
              }
            }
          }
        },
        {
          "key": "end",
          "type": "end"
        }
      ],
      "transitions": [
        {
          "fromNode": "start",
          "toNode": "first_gateway"
        },
        {
          "fromNode": "first_gateway",
          "toNode": "notify_operation_manager",
          "branch": "operation_approval_branch"
        },
        {
          "fromNode": "first_gateway",
          "toNode": "notify_security_manager",
          "branch": "security_approval_branch"
        },
        {
          "fromNode": "notify_operation_manager",
          "toNode": "operation_manager_approval"
        },
        {
          "fromNode": "notify_security_manager",
          "toNode": "security_manager_approval"
        },
        {
          "fromNode": "operation_manager_approval",
          "toNode": "operation_manager_decision"
        },
        {
          "fromNode": "operation_manager_decision",
          "toNode": "first_gateway_join",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.operation_manager_approval.isApproved} == true || ${context.variables.outputs.security_manager_approval.isApproved} == true"
            }
          }
        },
        {
          "fromNode": "security_manager_approval",
          "toNode": "security_manager_decision"
        },
        {
          "fromNode": "security_manager_decision",
          "toNode": "first_gateway_join",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.operation_manager_approval.isApproved} == true || ${context.variables.outputs.security_manager_approval.isApproved} == true"
            }
          }
        },
        {
          "fromNode": "operation_manager_decision",
          "toNode": "send_rejected_noti",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.operation_manager_approval.isApproved} == false"
            }
          }
        },
        {
          "fromNode": "security_manager_decision",
          "toNode": "send_rejected_noti",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.security_manager_approval.isApproved} == false"
            }
          }
        },
        {
          "fromNode": "first_gateway_join",
          "toNode": "send_approved_noti"
        },
        {
          "fromNode": "first_gateway_join",
          "toNode": "process_csv"
        },
        {
          "fromNode": "send_rejected_noti",
          "toNode": "end",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.security_manager_approval.isApproved} == false && ${context.variables.security_manager_approval.isApproved} == false"
            }
          }
        },
        {
          "fromNode": "send_approved_noti",
          "toNode": "process_csv"
        },
        {
          "fromNode": "process_csv",
          "toNode": "end"
        }
      ]
    },
    {
      "id": "0a8f",
      "key": "sample-02",
      "name": "sample-02",
      "nodes": [
        {
          "key": "start",
          "type": "start",
          "description": "Start"
        },
        {
          "key": "manager_approval",
          "type": "task",
          "config": {
            "type": "assignment",
            "roles": [
              "senior_manager"
            ],
            "groups": []
          }
        },
        {
          "key": "manager_decision",
          "type": "decision",
          "description": "Manager Decision"
        },
        {
          "key": "send_reject_noti",
          "type": "service",
          "description": "Send Rejected Notification",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
              "body": {
                "title": "Check your inbox!",
                "message": "Your request was rejected."
              }
            }
          }
        },
        {
          "key": "sent_approve_noti",
          "type": "service",
          "description": "Sent Approve Notification",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
              "body": {
                "title": "Check your inbox!",
                "message": "Your request was approved."
              }
            }
          }
        },
        {
          "key": "process_csv",
          "type": "service",
          "description": "Process CSV",
          "config": {
            "type": "service",
            "payload": {
              "type": "http",
              "method": "POST",
              "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/process-csv",
              "body": {
                "refId": "${context.variables.refId}"
              }
            }
          }
        },
        {
          "key": "end",
          "type": "end",
          "description": "New end"
        }
      ],
      "transitions": [
        {
          "fromNode": "start",
          "toNode": "manager_approval"
        },
        {
          "fromNode": "manager_approval",
          "toNode": "manager_decision"
        },
        {
          "fromNode": "manager_decision",
          "toNode": "send_reject_noti",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.manager_approval.isApproved} == false"
            }
          }
        },
        {
          "fromNode": "manager_decision",
          "toNode": "sent_approve_noti",
          "config": {
            "type": "condition",
            "payload": {
              "type": "jexl",
              "expression": "${context.variables.outputs.manager_approval.isApproved} == true"
            }
          }
        },
        {
          "fromNode": "sent_approve_noti",
          "toNode": "process_csv"
        },
        {
          "fromNode": "process_csv",
          "toNode": "end"
        },
        {
          "fromNode": "send_reject_noti",
          "toNode": "end"
        }
      ]
    }
  ],
  "slaDefinitions": [],
  "timerDefinitions": [
    {
      "name": "Auto finish workflow",
      "key": "TIMER01",
      "variant": "workflow",
      "timerType": "one-time",
      "config": {
        "type": "duration",
        "value": "24hrs"
      },
      "actions": [
        {
          "type": "mutation",
          "config": {
            "type": "transition",
            "toNode": "process_csv"
          }
        }
      ],
      "condition": {
        "type": "jexl",
        "expression": "${context.variables.status} === 'running'"
      },
      "id": "1020"
    },
    {
      "name": "Send Reminder Timer",
      "key": "TIMER02",
      "variant": "workflow",
      "timerType": "one-time",
      "actions": [
        {
          "type": "service",
          "config": {
            "type": "http",
            "method": "POST",
            "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
            "body": {
              "title": "Check your inbox!",
              "message": "Please check your inbox for tasks approval."
            },
            "headers": "Authorization ${context.variables.access_token}"
          }
        }
      ],
      "config": {
        "type": "duration",
        "value": "24hrs"
      },
      "condition": {
        "type": "jexl",
        "expression": "${context.variables.status} === 'running'"
      },
      "id": "7f86"
    },
    {
      "id": "183b",
      "name": "Auto finish workflow 1",
      "key": "TIMER01",
      "variant": "workflow",
      "timerType": "recurring",
      "config": {
        "type": "duration",
        "value": "24hrs"
      },
      "actions": [
        {
          "type": "service",
          "config": {
            "type": "http",
            "method": "POST",
            "url": "https://41l5r34h-3001.asse.devtunnels.ms/api/notifications",
            "body": {
              "title": "Check your inbox!",
              "message": "Please check your inbox for tasks approval."
            },
            "headers": "Authorization ${context.variables.access_token}"
          }
        }
      ],
      "condition": {
        "type": "jexl",
        "expression": "${context.variables.status} === 'running'"
      }
    }
  ]
}